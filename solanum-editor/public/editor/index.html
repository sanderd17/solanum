<html>
  <head>
    <meta charset="utf-8" />
    <title>Editor</title>
    <script src="./svgedit/jquery.min.js"></script>
    <script src="./svgedit/jquery-ui/jquery-ui-1.8.17.custom.min.js"></script>
  </head>

  <body>
    <div>
      <button onclick="canvas.deleteSelectedElements()">Delete Selected</button>
      <button onclick="canvas.clear(); canvas.updateCanvas(width, height);">Clear All</button>
      <button onclick="alert(canvas.getSvgString())">Get SVG</button>
      <button onclick="saveSvg()">Save</button>
    </div>

    <div id="root" style="position:absolute;left:0;top:50"></div>

    <!-- Editor stil refers to invisible elements, this should be part of canvas-->
    <svg id="childSvgs" style="display:none"></svg>

    <div id="container" style="position:absolute;left:0;top:500;width:800px;height:600px;border:1px solid grey"></div>


    <script>
      function saveSvg() {
        let name = 'Motor'
        let svgNode = document.getElementById('svgcontent')
        let svg = svgNode.outerHTML
        fetch('/API/Editor/setComponentSvg', {
          method: 'POST',
          body: JSON.stringify({
            module: window.currentModule,
            component: window.currentComponent,
            svg: svg,
            class: window.currentClass,
            width: window.currentSize[0],
            height: window.currentSize[1],
          }),
          headers:{
            'Content-Type': 'application/json'
          }
        })
      }
    </script>

    <div id="errorOverlay">
    <script src="/editor/monaco/min/vs/loader.js"></script>
    <script>
</script>
    <script type="module" src="index.js"></script>
    <script type="module">
window.currentModule = ''
window.currentComponent = ''
window.currentSize = [300, 300]
window.currentClass = ''
    </script>
  </body>
</html>
